## Сравнение библиотек и фреймворков

### 1. ASR (распознавание речи)

| Критерий                    | faster-whisper                            | Vosk                                      |
|-----------------------------|-------------------------------------------|-------------------------------------------|
| Лицензия                    | OpenAI model weights, MIT-подобная обвязка | Apache 2.0                                |
| Качество распознавания     | Очень высокое, особенно на многоязычных данных | Ниже, но приемлемо для многих задач       |
| Скорость на GPU            | Высокая, особенно с малой моделью (tiny/base) | Обычно медленнее                          |
| Скорость на CPU            | Умеренная, можно ускорить квантованием   | Хорошая на слабых CPU                     |
| Поддержка языков           | Много языков из коробки                  | Много языков, но модели нужно подбирать  |
| Удобство использования     | Требуется PyTorch / CTranslate2          | Простая C++/Python-обвязка               |
| Поддержка стримминга       | Есть примеры батчевой обработки, поток — через нарезку буферов | Есть потоковый режим                       |

**Вывод:**  
- Для ноутбука с GPU и сервера: **основной кандидат — `faster-whisper`** (качество + скорость).  
- Для очень слабых CPU и минимальной установки: **Vosk как резервный вариант**.

### 2. Speaker ID / диаризация

| Критерий                    | speechbrain                               | pyannote.audio (упоминается)             |
|-----------------------------|-------------------------------------------|-------------------------------------------|
| Лицензия                    | Apache 2.0                                | MIT                                       |
| Модели из коробки          | Эмбеддинги говорящего, speaker verification | Диаризация, speaker embedding             |
| Сложность                  | Относительно простая для базового использования | Более сложный стек (pipeline, config)  |
| Производительность          | Можно запускать на CPU / GPU              | Модели могут быть тяжёлыми                |
| Подходит для пресетов       | Да (эмбеддинги + клaстеризация/мэппинг)   | Да, но с избыточной сложностью           |

**Вывод:**  
- Для диплома с упором на инженерность и локальный запуск: **`speechbrain` как основной вариант** для получения эмбеддингов голоса и привязки к пользователю.

### 3. Генерация изображений

| Критерий                    | Diffusers + Stable Diffusion (SD/SDXL)   | SD Turbo / LCM вариации                   |
|-----------------------------|-------------------------------------------|-------------------------------------------|
| Лицензия                    | Различается по весам, код — Apache 2.0   | Аналогично (зависит от конкретной модели) |
| Скорость                    | Стандартный SD: десятки шагов            | Turbo/LCM: 1–4 шага → существенное ускорение |
| Качество                    | Высокое                                   | Иногда чуть хуже/специфичнее              |
| Поддержка img2img           | Да                                        | Да (зависит от пайплайна)                 |
| Интеграция с ControlNet     | Да (через diffusers)                     | Возможна, но требует настройки            |
| Аппаратные требования       | GPU желательно, но можно и CPU           | То же, но выигрыш по времени              |

**Вывод:**  
- Для научной части: **использовать `diffusers` как основной фреймворк**.  
- Внутри него сравнить: **обычный SD/SDXL vs Turbo/LCM** по скорости и качеству.

### 4. Оптимизация/ускорение

| Критерий                    | ONNX Runtime                              | Torch + стандартная инференс-петля       |
|-----------------------------|-------------------------------------------|-------------------------------------------|
| Аппаратная независимость    | Да (CPU, некоторые GPU, DirectML и др.)  | В основном CPU/GPU, завязка на PyTorch   |
| Ускорение на CPU            | Часто заметное                            | Зависит от настроек                       |
| Усложнение пайплайна       | Требуется экспорт модели                  | Проще, всё внутри PyTorch                |
| Поддержка квантования       | Да                                        | Есть, но требует ручной настройки        |

**Вывод:**  
- В дипломе можно показать **базовый PyTorch-пайплайн** и **эксперимент с экспортом одной модели в ONNX** с замером ускорения.

### 5. API / микросервисы

| Критерий                    | FastAPI                                   | Flask                                    |
|-----------------------------|-------------------------------------------|-------------------------------------------|
| Скорость                    | Выше (ASGI, uvicorn)                     | Ниже (WSGI)                               |
| Документация Swagger        | Автоматически из аннотаций типов         | Требует дополнительных расширений         |
| Удобство типизации          | Отлично совместим с Pydantic             | Меньше аннотаций из коробки               |

**Вывод:**  
- **FastAPI** — естественный выбор для микросервисной архитектуры с чёткой схемой запросов/ответов.

### 6. MLOps / эксперименты

| Критерий                    | MLflow                                    | W&B / Neptune (облачные)                 |
|-----------------------------|-------------------------------------------|-------------------------------------------|
| Развёртывание локально      | Да                                        | Зависит от сервиса                        |
| Лицензирование              | Open-source (Server + Tracking)          | SaaS, есть бесплатные уровни             |
| Удобство для диплома        | Хорошо: можно показать полный цикл       | Сложнее воспроизвести оффлайн            |

**Вывод:**  
- Для магистерского диплома: **MLflow** как основной инструмент трекинга экспериментов и моделей.

---

В следующих документах и ноутбуках эта таблица будет использоваться как основа для:
- выбора стека для реализации;
- обоснования архитектуры микросервисов;
- планирования экспериментов и сравнений (качество/скорость/ресурсы).


